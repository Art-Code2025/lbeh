@echo off
chcp 65001 >nul
echo.
echo ๐ ุจุฏุก ุชุดุบูู ููุตุฉ ูุจูู ููุฎุฏูุงุช ุงููุชููุนุฉ
echo ===============================================
echo.

:: ุงูุชุญูู ูู ูุฌูุฏ Node.js
where node >nul 2>nul
if %errorlevel% neq 0 (
    echo โ Node.js ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุชู ุฃููุงู
    pause
    exit /b 1
)

:: ุฅูุดุงุก ูุฌูุฏุงุช ุถุฑูุฑูุฉ ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
echo ๐ ุฅูุดุงุก ุงููุฌูุฏุงุช ุงููุทููุจุฉ...
if not exist "public\images" mkdir "public\images"

:: ุจุฏุก ุงูุฎุงุฏู ูู ุงูุฎูููุฉ
echo ๐ง ุจุฏุก ุชุดุบูู ุงูุฎุงุฏู ุงูุฎููู...
start /b node server.js

:: ุงูุชุธุงุฑ ูููู ููุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู
timeout /t 3 /nobreak >nul

echo โ ุงูุฎุงุฏู ูุนูู ุนูู http://localhost:3001

:: ุงูุงูุชูุงู ููุฌูุฏ frontend
echo ๐จ ุจุฏุก ุชุดุบูู ูุงุฌูุฉ ุงููุณุชุฎุฏู...
cd frontend

:: ุชุซุจูุช ุงูุชุจุนูุงุช ุฅุฐุง ูู ุชูู ูุซุจุชุฉ
if not exist "node_modules" (
    echo ๐ฆ ุชุซุจูุช ุชุจุนูุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู...
    call npm install
)

:: ุชุดุบูู frontend
echo ๐ ุชุดุบูู ูุงุฌูุฉ ุงููุณุชุฎุฏู...
start /b npm run dev

:: ุงูุชุธุงุฑ ูููู ููุชุฃูุฏ ูู ุชุดุบูู frontend
timeout /t 5 /nobreak >nul

echo.
echo ๐ ุชู ุชุดุบูู ููุตุฉ ูุจูู ุจูุฌุงุญ!
echo ===============================================
echo ๐ฅ๏ธ  ูุงุฌูุฉ ุงููุณุชุฎุฏู: http://localhost:5173
echo โ๏ธ  ุงูุฎุงุฏู ุงูุฎููู: http://localhost:3001
echo ๐ง ููุญุฉ ุงูุชุญูู: http://localhost:5173/dashboard
echo.
echo ููุฅููุงู: ุงุถุบุท Ctrl+C ูู ููุงูุฐ ุงูุฎุฏูุงุช
echo ===============================================
echo.

:: ูุชุญ ุงููุชุตูุญ
echo ๐ ูุชุญ ุงููุชุตูุญ...
start http://localhost:5173

echo ุจุฑูุงูุฌ ูุจูู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!
echo ูุฅููุงู ุงูุฎุฏูุงุชุ ุฃุบูู ููุงูุฐ ุงูุฎุฏูุงุช ุฃู ุฃุนุฏ ุชุดุบูู ุงูุฌูุงุฒ
pause 